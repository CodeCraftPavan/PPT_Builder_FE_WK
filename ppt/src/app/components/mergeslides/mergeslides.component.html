<div class="wrapper-page">
  <div class="container bg-white br-2 p-3">
    <div class="row header-padding align-items-center">
      <div class="col-md-3 col-sm-6">
        <h4 class="text-black mt-2">List of Slides</h4>
      </div>
      <div class="col-md-5 col-sm-6">
        <form [formGroup]="addInfoForm" (ngSubmit)="search()" class="d-flex align-items-center">
          <input type="email" formControlName="value" class="form-control" placeholder="Search Slides"> &nbsp;
          &nbsp; <button mat-raised-button color="primary" type="submit" class="ml-2">Search</button>
        </form>
      </div>
      <div class="col-md-4 col-sm-12 d-flex align-items-center justify-content-end">
        <button mat-raised-button color="primary" [disabled]="slideFileKeyList.length < 1" (click)="onMergeClick()">Download PPT</button>
        &nbsp;&nbsp;
        <span class="d-flex align-items-center" (click)="onSortDateClick(sortDateAscending)">
          Sort By Date
          <mat-icon color="primary" mat-list-icon *ngIf="!sortDateAscending" style="position:relative;top:7px">arrow_upward</mat-icon>
          <mat-icon color="primary" mat-list-icon *ngIf="sortDateAscending" style="position:relative;top:7px">arrow_downward</mat-icon>
        </span>
      </div>
    </div>
    
    <div class="table-responsive" style="margin: 10px;">
      <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
      class="mat-elevation-z8">
        <ng-container matColumnDef="slno">
          <th mat-header-cell *matHeaderCellDef>SL No.</th>
          <td mat-cell *matCellDef="let element; let i=index"> {{ i+1 }} </td>
        </ng-container>

        <ng-container matColumnDef="metaDataOfSlide"> 
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by metaDataOfSlide">Title</th>
          <td mat-cell *matCellDef="let element"> {{ element.metaDataOfSlide }} </td>
        </ng-container>
        
        <ng-container matColumnDef="keywords">
          <th mat-header-cell *matHeaderCellDef >KeyWords</th>
          <td mat-cell *matCellDef="let element">{{ element.keyWords ? element.keyWords : '-' }} </td>
        </ng-container>

        <ng-container matColumnDef="notes" >
          <th mat-header-cell *matHeaderCellDef >Notes</th>
          <td mat-cell *matCellDef="let element"> {{ element.notes }} </td>
        </ng-container>

        <ng-container matColumnDef="downloadCount"> 
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Downloads</th>
          <td mat-cell *matCellDef="let element"> {{ element.downloadCount }} </td>
        </ng-container>

        <ng-container matColumnDef="rating"> 
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by rating">Rating</th>
          <td mat-cell *matCellDef="let element"> {{ element.rating }} </td>
        </ng-container>


        <ng-container matColumnDef="view">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element"><mat-icon (click)="viewSlide(element)" color="primary">file_copy</mat-icon></td>
        </ng-container>

        <ng-container matColumnDef="add">
          <th mat-header-cell *matHeaderCellDef>Add Slide</th>
          <td mat-cell *matCellDef="let element">
            <mat-checkbox (change)="onCheckboxChange(element, $event.checked)"></mat-checkbox>
          </td>
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="align bg-white" [attr.colspan]="displayedColumns.length">
            <app-data-not-found></app-data-not-found>
          </td>
        </tr>
      </table>
      <mat-paginator #paginatorPageSize [pageSizeOptions]="pageSizeOptions" showFirstLastButtons (page)="pageChanged($event)"></mat-paginator>
    </div>
  </div>
</div>
