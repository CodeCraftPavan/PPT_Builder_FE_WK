<div class="wrapper">

  <!-- verify email -->
  <div *ngIf="showVerifyEmailForm">
    <h3 class="login-heading mb-4">Verify Email</h3>
    <form [formGroup]="verifyEmailForm" (ngSubmit)="onVerifyEmail()">
      <div class="form-group mb-3">
        <label class="form-control-label">Email</label>
        <input type="text" class="form-control" formControlName="email" name="email"
          [ngClass]="{'is-invalid':(submitted && g['email'].errors) ||(g['email'].errors && g['email'].touched) }">
        <div *ngIf="(submitted && g['email'].errors) ||(g['email'].errors && g['email'].touched)"
          class="invalid-feedback">
          <div *ngIf="g['email'].errors['required']">
            Email is required
          </div>
          <div *ngIf="g['email'].errors['pattern']">Email domain should be ecanarys.com</div>
        </div>
      </div>

      <div class="d-grid">
        <button class="btn btn-primary btn-login text-uppercase fw-bold bg-primary-delivery mb-2" type="submit">
          <div class="spinner-border" role="status" style="font-size: 10px; width: 15px; height: 15px"
            *ngIf="buttonText == 'Verifying Email Please Wait!'">
            <span class="sr-only">Loading...</span>
          </div>
          {{buttonText}}
        </button>
      </div>
    </form>
    <p>Already have an account? 
      <a class="small" href="login">Login</a>
    </p>
  </div>

  <!-- otp verify form -->
  <div *ngIf="showOTPVerifyForm">
    <h3 class="login-heading mb-4"><strong>Verify OTP</strong></h3>
    <form [formGroup]="OTPVerifyForm" (ngSubmit)="onOTPVerifySubmit()">
      <div class="form-group mb-3">
        <label class="form-control-label">Email</label>
        <input type="text" class="form-control disabled" formControlName="email" name="email" readonly>
      </div>

      <div class="form-group mb-3">
        <label class="form-control-label">OTP</label>
        <input type="text" class="form-control" formControlName="otp" name="otp"
          [ngClass]="{'is-invalid':(submitted && h['otp'].errors) ||(h['otp'].errors && h['otp'].touched) }">
        <div *ngIf="(submitted && h['otp'].errors) ||(h['otp'].errors && h['otp'].touched)" class="invalid-feedback">
          <div *ngIf="h['otp'].errors['required']">
            OTP is required
          </div>

        </div>
      </div>

      <div class="d-grid">
        <button class="btn btn-primary btn-login text-uppercase fw-bold bg-primary-delivery mb-2" type="submit">
          <div class="spinner-border" role="status" style="font-size: 10px; width: 15px; height: 15px"
            *ngIf="buttonText == 'Verifying OTP Please Wait!'">
            <span class="sr-only">Loading...</span>
          </div>
          {{buttonText}}
        </button>
      </div>
    </form>
    <p>Already have an account? 
      <a class="small" href="login">Login</a>
    </p>
  </div>

  <!-- signup form -->
  <div *ngIf="showRegisterForm">
    <h3 class="login-heading mb-4" ><strong>Register Your Details</strong></h3>
    <form [formGroup]="signUpForm" (ngSubmit)="onUserRegister()">
      <div class="form-group mb-3">
        <label class="form-control-label">First Name</label>
        <input type="text" class="form-control" formControlName="firstName" name="firstName"
          [ngClass]="{'is-invalid':(submitted && f['firstName'].errors) ||(f['firstName'].errors && f['firstName'].touched) }">
        <div *ngIf="(submitted && f['firstName'].errors) ||(f['firstName'].errors && f['firstName'].touched)"
          class="invalid-feedback">
          <div *ngIf="f['firstName'].errors['required']">First Name is required</div>
          <div *ngIf="f['firstName'].errors['pattern']">Only characters are allowed</div>
          <div *ngIf="f['firstName'].errors['minlength']">First Name must be at least 3 characters long</div>
          <div *ngIf="f['firstName'].errors['maxlength']">First Name cannot be more than 20 characters long</div>
          <!-- <div *ngIf="f['firstName'].errors['required']">
            First Name is required
          </div>
          <div *ngIf="f['firstName'].errors['pattern']">Only Characters are allowed</div> -->
        </div>
      </div>
      <div class="form-group mb-3">
        <label class="form-control-label">Last Name</label>
        <input type="text" class="form-control" formControlName="lastName" name="lastName"
          [ngClass]="{'is-invalid':(submitted && f['lastName'].errors) ||(f['lastName'].errors && f['lastName'].touched) }">
        <div *ngIf="(submitted && f['lastName'].errors) ||(f['lastName'].errors && f['lastName'].touched)"
            class="invalid-feedback">
              <div *ngIf="f['lastName'].errors['required']">Last Name is required</div>
              <div *ngIf="f['lastName'].errors['pattern']">Only characters are allowed</div>
              <div *ngIf="f['lastName'].errors['minlength']">Last Name must be at least 3 characters long</div>
              <div *ngIf="f['lastName'].errors['maxlength']">Last Name cannot be more than 20 characters long</div>
          </div>
          <!-- <div *ngIf="f['lastName'].errors['required']">
            Last Name is required
          </div>
          <div *ngIf="f['lastName'].errors['pattern']">Only Characters are allowed</div> -->
        </div>
        
      <div class="form-group mb-3">
        <label class="form-control-label">Email</label>
        <input type="text" class="form-control disabled" formControlName="userEMailId" name="email" readonly>
      </div>  
      <div class="form-group mb-3">
        <label class="form-control-label">Password</label>
        <input type="password" class="form-control" formControlName="password" name="password"
          [ngClass]="{'is-invalid':(submitted && f['password'].errors) ||(f['password'].errors && f['password'].touched) }">
        <div *ngIf="(submitted && f['password'].errors) ||(f['password'].errors && f['password'].touched)"
          class="invalid-feedback">
            <div *ngIf="f['password'].errors['required']">Password is required</div>
            <div *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters long</div>
          <!-- <div *ngIf="f['password'].errors['required']">
            password is required
          </div> -->
        </div>
      </div>

      <div class="d-grid">
        <button type="submit" class="btn btn-primary btn-login text-uppercase fw-bold bg-primary-delivery mb-2" >
          <div class="spinner-border" role="status" style="font-size: 10px; width: 15px; height: 15px"
            *ngIf="buttonText == 'Submitting Please Wait!'">
            <span class="sr-only">Loading...</span>
          </div>
          {{buttonText}}
        </button>
      </div>
    </form>
    <p>Already have an account? 
      <a class="small" href="login">Login</a>
    </p>
  </div>
</div>